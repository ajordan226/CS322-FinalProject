#:kivy 1.11.1


MyLayout:
    scr_mngr: scr_mngr
    orientation:'horizontal'

    BoxLayout:
        orientation:'vertical'
        Button:
            size_hint:.25,.25
            text:'Login'
            on_press:
                root.change_screen("screen1")
        Button:
            size_hint:.25,.25
            text:'Register'
            on_press:
                root.change_screen("screen2")
        Button:
            size_hint:.25,.25
            text:'Projects?'
            on_press:
                root.change_screen("Projects")

    RelativeLayout:
        size_hint:.75,1
        pos_hint:{'x':.25,'y':0}
        ScreenManager:
            id: scr_mngr
            Screen:
                name: 'screen1'
                canvas.before:
                    Rectangle:
                        pos:self.pos
                        size:self.size
                        source:'pics/test.png'
            Screen:
                name: 'screen2'
                canvas.before:
                    Rectangle:
                        pos:self.pos
                        size:self.size
                        source:'pics/PogChamp.jpg'
            Projects:
                name: 'Projects'
            newEntry:
                name: 'newEntry'
                
<Projects>:
    RelativeLayout:
        Button:
            text: 'Create New Project'
            pos_hint: {'x':.25,'y':.05}
            size_hint:(.5,.1)
            on_release:
                root.manager.current = 'newEntry'
        RelativeLayout:
            size_hint:(1,.75)
            pos_hint: {'x':.10,'y':.2}
            RecycleView:
                viewclass: 'SelectableButton'
                size_hint:(.8,.9)
                data: [{'text': str(x)} for x in root.data_projects]
                SelectableRecycleGridLayout:
                    id: rv
                    cols: 4
                    default_size: None, dp(45)
                    default_size_hint: .9, None

                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    multiselect: False
					                   
<newEntry>:
    project_name:projectName
    project_info:projectInfo
    auto_dismiss: False
    title: ""
    separator_height: 0
    pos_hint: {'x':.125,'y':0.0125}
    size_hint: .75,1
    FloatLayout:

        Label:
            text: 'Project Name'
            font_size: 25
            pos_hint:{'x':0,'y':.45}
        TextInput:
            id: projectName
            size_hint:.5,.1
            pos_hint:{'x':.25,'y':.8}
        Label:
            text: 'Project Description'
            font_size: 25
            pos_hint: {'x':0,'y':.25}
        TextInput: 
            id:projectInfo
            size_hint: .75,.35
            pos_hint:{'x':.125,'y':.35}
  
 
        BoxLayout:
            orientation:'horizontal'
            pos_hint:{'x':0,'y':0}
            Button:
                text: 'Close'
                size_hint: .5,.1
                on_release:
                    root.manager.current = 'Projects'
                    #root.dismiss()
            Button:
                text: 'Submit'
                size_hint: .5,.1
                on_release:
                    root.submit()
                    root.clocked_switch()


        
            